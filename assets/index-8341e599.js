import{f as x,bm as N,bC as S,bo as k,r as d,aY as B,b5 as s,b0 as t,b3 as a,aX as C,b4 as n,b1 as m,b2 as _,bu as $,ac as P,bD as U,bp as V,bB as I}from"./index-3f4e5f1d.js";import{l as T}from"./index-741d00c3.js";import{S as p}from"./index-fdcfd674.js";import{b as K,l as j,d as z,a as c,N as h}from"./index-6cc41aae.js";import{N as A}from"./GradientText-035a5c65.js";import"./_plugin-vue_export-helper-c27b6911.js";const D={class:"login-container"},F={class:"mb-5 flex items-center justify-end"},L={class:"mr-2"},M={class:"min-w-[100px]"},E={class:"login-title"},G=n("div",{class:"flex justify-center text-slate-300"},[m(" Powered By "),n("a",{href:"https://github.com/hslr-s/sun-panel",target:"_blank",class:"ml-[5px] text-slate-500"},"Sun-Panel")],-1),R=x({__name:"index",setup(H){const f=N(),g=S(),b=k(),r=d(!1),i=d(g.language),o=d({username:"",password:""}),y=async()=>{r.value=!0;try{const e=await T(o.value);e.code===0?(f.setToken(e.data.token),f.setUserInfo(e.data),setTimeout(()=>{b.success(`Hi ${e.data.name},${V("login.welcomeMessage")}`),r.value=!1,I.push({path:"/"})},500)):r.value=!1}catch(e){r.value=!1,console.log(e)}};function v(){y()}function w(e){i.value=e,g.setLanguage(e)}return(e,l)=>(C(),B("div",D,[s(a(U),{class:"login-card",style:{"border-radius":"20px"}},{default:t(()=>[n("div",F,[n("div",L,[s(a(p),{icon:"ion-language",style:{width:"20",height:"20"}})]),n("div",M,[s(a(K),{value:i.value,"onUpdate:value":l[0]||(l[0]=u=>i.value=u),size:"small",options:a(j),onUpdateValue:w},null,8,["value","options"])])]),n("div",E,[s(a(A),{size:30,type:"success",class:"!font-bold"},{default:t(()=>[m(_(e.$t("common.appName")),1)]),_:1})]),s(a(z),{model:o.value,"label-width":"100px",onKeydown:$(v,["enter"])},{default:t(()=>[s(a(c),null,{default:t(()=>[s(a(h),{value:o.value.username,"onUpdate:value":l[1]||(l[1]=u=>o.value.username=u),placeholder:e.$t("login.usernamePlaceholder")},{prefix:t(()=>[s(a(p),{icon:"ph:user-bold"})]),_:1},8,["value","placeholder"])]),_:1}),s(a(c),null,{default:t(()=>[s(a(h),{value:o.value.password,"onUpdate:value":l[2]||(l[2]=u=>o.value.password=u),type:"password",placeholder:e.$t("login.passwordPlaceholder")},{prefix:t(()=>[s(a(p),{icon:"mdi:password-outline"})]),_:1},8,["value","placeholder"])]),_:1}),s(a(c),{style:{"margin-top":"10px"}},{default:t(()=>[s(a(P),{type:"primary",block:"",loading:r.value,onClick:v},{default:t(()=>[m(_(e.$t("login.loginButton")),1)]),_:1},8,["loading"])]),_:1}),G]),_:1},8,["model","onKeydown"])]),_:1})]))}});export{R as default};
